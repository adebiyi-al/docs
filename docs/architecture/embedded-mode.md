# Embedded Mode

In **Embedded Mode** the _primary domain points to the WordPress server_. This is the site that visitors access directly in order to view the content.

{% hint style="warning" %}
This mode requires the installation, activation and configuration of the [Frontity embedded mode plugin](https://api.frontity.org/frontity-plugins/embedded-mode) to work
{% endhint %}

WordPress (via the [Frontity Embedded Mode plugin ](https://api.frontity.org/frontity-plugins/embedded-mode)) will redirect the request to Frontity, which will get the data from the REST API to return the final HTML as an [Isomorphic](https://medium.com/capital-one-tech/why-everyone-is-talking-about-isomorphic-universal-javascript-and-why-it-matters-38c07c87905) React App that will be returned to the user from WordPress

![](https://frontity.org/wp-content/uploads/2021/05/frontity-embedded-mode.png)

Any [Frontity architecture requires 2 servers](README.md). In this Decoupled Mode we have:

- A **main domain** pointing to the **WordPress Server**
  - Apache or Nginx web server running PHP
  - Hosted software-as-a-service (SaaS) platform with WordPress such as WordPress.com (only plans allowing plugin installation)

- A **secondary URL** (or subdomain) pointing to the **Frontity Server**
  - Server running Node.js
  - Hosted function-as-a-service (FaaS) platform allowing serverless computing such as AWS Lambda or Netlify functions

In this mode _both site visitors and content editors use the same domain_, i.e. the main domain, to either visit the site or access the WordPress admin pages. The Frontity server on the secondary domain is never directly accessed.

Embedded mode requires the [Frontity Embedded Mode plugin](https://api.frontity.org/frontity-plugins/embedded-mode). The plugin replaces the WordPress theme with its own template file which fetches the HTML from the Frontity server. However, before Frontity can deliver the HTML it must request the content from the WordPress REST API, necessitating a two stage round trip.
 
![](https://frontity.org/wp-content/uploads/2021/05/workflow-embedded-mode.png)

{% hint style="info" %}
Due to the "two stage round trip", caching is therefore a necessity in this architecture to ensure that site performance is optimal.
{% endhint %}


### Features of the Embedded Mode

Embedded Mode offers several **advantages** over Decoupled Mode.

- The WordPress site exists under the primary domain, thus ensuring that:
  - all the _SEO benefits_ already built in to WordPress work as normal
  - existing SEO (for a site transitioning to Frontity) will not be affected
  - _sitemaps_ generated by WordPress/Yoast/All-in-one-SEO work as normal
  - _WordPress page cache plugins and hosting CDNs_ continue to work as normal
- Content producers/editors continue to have the same experience
  - _post/page preview_ remains available
  - the _admin bar_ is active for logged in users

But there are some _things to be taken into account_ when using this Embedded Mode:

- It requires an additional plugin, namely the [Frontity embedded mode plugin](https://api.frontity.org/frontity-plugins/embedded-mode).
- It will not work with free plans of wordpress.com sites as a plugin is required.
- WordPress still needs to go through it's [bootstrap process](https://wordpress.tv/2017/06/22/alain-schlesser-demystifying-the-wordpress-bootstrap-process/) on initial page load
- more routing is involved (slower execution) as WordPress makes a call to Frontity which returns the HTML to WordPress, so **a caching plugin is a necessity** rather than simply a nice to have.



Slower execution - embedded mode is potentially slower than decoupled mode as Frontity requests the data from WP's REST API and returns the HTML to WordPress, and WordPress in turn serves it to the browser. This means that there are two transfers of data so caching is necessary to optimise performance. Caches for both [WordPress]((https://www.wpbeginner.com/plugins/best-wordpress-caching-plugins/)) and for [the REST API](https://wordpress.org/plugins/wp-rest-cache/) are strongly recommended).

Frontity still needs to be hosted on a separate node server/serverless function (albeit on any domain you like including default domains provided by the hosting provider).





#### Technical considerations

Due to the one-domain nature of this mode, _Embedded Mode_ offers a number of advantages over Decoupled Mode.:

- The WordPress site exists under the primary domain, thus ensuring that:
  - all the SEO benefits already built in to WordPress work as normal
  - existing SEO (for a site transitioning to Frontity) will not be affected
  - sitemaps generated by WordPress/Yoast/All-in-one-SEO work as normal
  - WordPress page cache plugins and hosting CDNs continue to work as normal
- Content producers/editors continue to have the same experience
  - post/page preview remains available
  - the admin bar is active for logged in users

In addition, since the Frontity site is never directly accessed the secondary domain can be anything - including free domains allocated by the node.js hosting service - so there is no need to purchase an additional domain or configure DNS settings for sub-domains.


## Recommendations

### WordPress

A self-hosted wordpress.org site is needed. If you have an existing WordPress site that you're transitioning to Frontity we recommend that you continue using your existing hosting.

### Node.js

For node.js we recommend that you choose a [serverless](https://about.gitlab.com/topics/serverless/) solution as it will make it cheap, easy and infinitely scalable.

### Caching

Caches for both [WordPress]((https://www.wpbeginner.com/plugins/best-wordpress-caching-plugins/)) and for [the REST API](https://wordpress.org/plugins/wp-rest-cache/) are strongly recommended).



![](https://frontity.org/wp-content/uploads/2021/05/embedded-mode-features-cache.png)